<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="javascript" href="./assets/javascript/game.js">
    <link rel="stylesheet" href="./assets/css/style.css">

    <title>Word Guess</title>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">Guess That Character! </h1>
            <p class="lead">Use the keyboard to guess the letters in the Nintendo characters name.
                If you can guess the character correctly, you win! if you make more than 6 incorrect guesses, you lose.
                Press the "Reset" button to start!
            </p>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <div class="jumbotron2">
                    <h2>YOUR GUESS: <span id="word"><strong>...</strong></span></h2>
                    <p id="word2"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <h2><span id="totalWord"><strong>...</strong></span></h2>
            </div>

        </div>

    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <h3>Remaining Guesses:<span id="guessesLeft"><strong> </strong></span></h3>
            </div>

        </div>

    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <h3>Total Guesses:<span id="guessesTotal"><strong> </strong></span></h3>
            </div>

        </div>

    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <h3>Total Wins:<span id="totalWins"><strong> </strong></span></h3>
            </div>

        </div>

    </div>


    <div class="container">
        <div class="row">
            <div class="col-md-offset-2 col-md-8">
                <button id="reset" type="button" class="btn btn-danger">Reset</button>
            </div>
        </div>

    </div>

</head>

<body>

    <script>

        var wins = 0;

        function game() {


            var character = ["mario", "yoshi", "peach", "bowser", "luigi", "kirby"];

            var wrongGuess = 6;

            var cpChoice = character[Math.floor(Math.random() * character.length)];

            var characterArr = cpChoice.split("");
            var yourGuess = [""];
            var totalGuess = 0;

            var word = document.getElementById("word");
            var remainingGuesses = document.getElementById("guessesLeft");
            var guessesTotal = document.getElementById("guessesTotal");
            var word2 = document.getElementById("word2");
            var totalWord = [];
            var totalWins = document.getElementById("totalWins");


            console.log(cpChoice);
            console.log(characterArr);
            console.log(characterArr[0]);



            for (var i = 0; i < characterArr.length; i++) {
                totalWord[i] = " _ ";
            }

            console.log(totalWord);
            document.getElementById("totalWord").innerHTML = totalWord.join(" ");

            document.onkeyup = function main(event) {
                word.textContent = event.key;
                word2.textContent = event.key;
                if (yourGuess.indexOf(event.key) !== -1) {
                    return;
                }

                totalGuess = totalGuess + 1;
                guessesTotal.textContent = totalGuess;
                yourGuess.push(word2.textContent);
                console.log(yourGuess);
                document.getElementById("word2").innerHTML = yourGuess.toString();

                var bool = false;
                var boolLetterPool = false;

                for (var i = 0; i < characterArr.length; i++) {
                    if (word.textContent === characterArr[i]) {
                        console.log(word.textContent);

                        var bool = true;

                        totalWord[i] = word.textContent;
                        console.log(totalWord[i]);
                        document.getElementById("totalWord").innerHTML = totalWord.join(" ");
                    }
                };


                if (totalWord.indexOf(" _ ") === -1) {
                    wins = wins + 1;
                    document.getElementById("totalWins").innerHTML = wins;
                }


                if (bool != true) {
                    wrongGuess = wrongGuess - 1;

                    remainingGuesses.textContent = wrongGuess;
                    console.log(wrongGuess);
                }

                if (bool === true) {
                    wrongGuess = wrongGuess;
                    remainingGuesses.textContent = wrongGuess;
                }

                if (wrongGuess === 0) {
                    game();
                    document.getElementById("word2").innerHTML = "";
                    document.getElementById("word").innerHTML = "...";
                    wrongGuess = 0;
                    totalWord = [""];
                    totalGuess = 0;
                    document.getElementById("guessesTotal").innerHTML = 0;

                }




            }





        };


        document.getElementById("reset").onclick = function () {
            game();
        };






    </script>
</body>

</html>